<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>闭包</title>
</head>
<body>
<script>
    // let func=function () {
    //     let a=1;
    //     console.log(a);
    // };
    // func();
    // console.log(a);
/**
 * 变量作用域
 * **/
    // let a=1;
    // let func1=function () {
    //     let b=2;
    //    let func2=function () {
    //        let c=3;
    //        console.log(b);
    //        console.log(a);
    //    }
    //    func2();
    //    console.log(c);
    // }
    // func1();

    /**
     * 变量生命周期
     * 全局变量生命周期-永久，除非主动销毁
     * 局部变量会随函数调用结束而销毁
     * **/
   //  let func=function () {
   //      let a=1;
   //      return function(){
   //          a++;
   //          console.log(a);
   //      }
   //  };
   // let f= func();
   // f();
   // f();
   // f();
   // f();
/**
 * 闭包作用：1.封装变量 2.
 * **/

let mult=(function () {
    let cache=[];
    return function(){
        let args=Array.prototype.join.call(arguments,',');
        if(cache[args]){
            return cache[args];
        }
        let a=1;
        for(let i=0,l=arguments.length;i<l;i++){
            a=a*arguments[i];
        }
        return cache[args]=a;
    }
})()
console.log(mult(1,2,3));
console.log(mult(2,3,4));
</script>
</body>
</html>
